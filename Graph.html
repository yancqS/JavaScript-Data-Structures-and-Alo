<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Graph</title>
</head>
<body>
<script>
    function Dictionary() {
        let items = {};
        //set(key,value) 向字典中添加新元素
        this.set = function (key, value) {
            items[key] = value;
        };

        //remove(key) 通过使用键值来从字典中移除键值对应的数据值
        this.remove = function (key) {
            if (this.has(key)) {
                delete items[key];
                return true;
            }
            return false;
        };

        //has(key) 如果某个键值存在于字典中，则返回true，否则返回false
        this.has = function (key) {
            return items.hasOwnProperty(key);
        };

        //get(key) 通过键值查找特定数值并返回
        this.get = function (key) {
            if (this.has(key)) {
                return items[key];
            }
            return undefined;
        };

        //clear() 将这个字典中的所有元素全部删除
        this.clear = function () {
            items = {};
        };

        //size() 返回字典所包含的元素的数量。
        this.size = function () {
            return Object.keys(items).length;
        };

        //keys() 将字典所包含的所有键值名以数组的形式返回
        this.keys = function () {
            return Object.keys(items);
        };

        //values() 将字典所包含的所有数值名以数组的形式返回
        this.values = function () {
            return Object.values(items);
        };

        //entries() 将字典所包含的所有键值、数值名以数组的形式返回["键值","数值"]
        this.entries = function () {
            return Object.entries(items);
        };

        this.getItems = function () {
            return items;
        }
    }

    function Graph() {
        let vertice = [];//存储图中所有顶点
        let adjList = new Dictionary();//字典类: 使用顶点的名字作为Key,邻接顶点列表作为value

        //向图中添加新的顶点，接受顶点v作为参数
        this.addVertex = function (v) {
            vertice.push(v);
            adjList.set(v, []);
        };

        //接受两个顶点作为参数(这两个顶点相邻)
        this.addEdge = function (v, w) {
            adjList.get(v).push(w);
            adjList.get(w).push(v);
        };

        this.toString = function () {
            let s = '';
            for (let i = 0; i < vertice.length; i++) {
                s += vertice[i] + " -> ";
                let neighbors = adjList.get(vertice[i]);
                for (let j = 0; j < neighbors.length; j++) {
                    s += neighbors[j] + " ";
                }
                s += "\n";
            }
            return s;
        }
    }

    let graph = new Graph();
    let myVertices = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I'];
    myVertices.forEach((item) => {
        graph.addVertex(item)
    });
    graph.addEdge("A", "B");
    graph.addEdge("A", "C");
    graph.addEdge("A", "D");
    graph.addEdge("C", "D");
    graph.addEdge("C", "G");
    graph.addEdge("D", "G");
    graph.addEdge("D", "H");
    graph.addEdge("B", "E");
    graph.addEdge("B", "F");
    graph.addEdge("E", "I");

    console.log(graph.toString());


</script>
</body>
</html>